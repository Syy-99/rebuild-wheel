对应章节：

- - Chapter 4 (in particular 4.6)

## 知识点总结

- copy-on-write的fork:

    - 在开始时，父进程和子进程共享所有的物理页，但是这些物理页全部标为只读。接着，父子进程其中一个尝试对这些物理页进行写入的时候，就会抛出一个缺页错误（Store Page Fault
    
    - 接着，对于引起异常的虚拟地址尝试访问的那页物理页，内核将其复制一页并映射，因此现在父子进程在各自的虚拟地址空间内都有该物理页，开放这两页的权限都为读和写，并更新两个进程的页表
    
    - 之后，内核会恢复执行引起异常的那条存储指令，现在它能够正确的执行。